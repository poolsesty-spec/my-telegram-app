<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Eluma Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --accent: #a3e635; /* –°–∞–ª–∞—Ç–æ–≤—ã–π */
            --teal: #2dd4bf;   /* –ë–∏—Ä—é–∑–æ–≤—ã–π */
            --bg-dark: #121418;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-dark);
            color: white;
            margin: 0;
            overflow: hidden;
            -webkit-tap-highlight-color: transparent;
        }

        /* --- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω (–ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–µ –æ–±–ª–∞–∫–∞) --- */
        .bg-wrapper {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
            background: radial-gradient(circle at 50% 50%, #1a1d23 0%, #0d0f12 100%);
            overflow: hidden;
        }

        .cloud {
            position: absolute;
            filter: blur(80px);
            border-radius: 50%;
            opacity: 0.4;
            animation: move 20s infinite alternate ease-in-out;
        }
        .cloud-1 { width: 300px; height: 300px; background: var(--teal); top: -50px; left: -100px; animation-duration: 25s; }
        .cloud-2 { width: 400px; height: 400px; background: var(--accent); bottom: -100px; right: -50px; animation-duration: 18s; }
        .cloud-3 { width: 250px; height: 250px; background: #4ade80; top: 40%; left: 60%; opacity: 0.2; }

        @keyframes move {
            0% { transform: translate(0, 0) scale(1); }
            100% { transform: translate(50px, 80px) scale(1.2); }
        }

        /* --- –≠—Ñ—Ñ–µ–∫—Ç Plexiglass (–û—Ä–≥—Å—Ç–µ–∫–ª–æ) --- */
        .plexiglass {
            background: rgba(255, 255, 255, 0.04);
            backdrop-filter: blur(25px) saturate(150%);
            -webkit-backdrop-filter: blur(25px) saturate(150%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 30px;
        }

        /* --- –ö–Ω–æ–ø–∫–∏ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã --- */
        .neon-progress {
            background: linear-gradient(90deg, var(--teal), var(--accent));
            box-shadow: 0 0 15px rgba(163, 230, 53, 0.4);
        }

        .btn-done {
            background: rgba(163, 230, 53, 0.15);
            border: 1px solid rgba(163, 230, 53, 0.3);
            color: var(--accent);
            box-shadow: inset 0 0 10px rgba(163, 230, 53, 0.1);
            transition: all 0.3s ease;
        }

        .btn-active {
            background: var(--accent);
            color: #000;
            box-shadow: 0 0 20px rgba(163, 230, 53, 0.5);
        }

        /* --- –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ç–∫–∏ --- */
        .task-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 28px;
            padding: 16px;
            transition: transform 0.2s ease;
        }
        .task-card:active { transform: scale(0.96); }

        .icon-box {
            width: 48px; height: 48px;
            border-radius: 14px;
            background: rgba(0,0,0,0.3);
            display: flex; items-center; justify-center;
            border: 1px solid rgba(255,255,255,0.05);
            margin-bottom: 12px;
        }

        /* --- –≠–∫—Ä–∞–Ω –Ω–∞—Å—Ç—Ä–æ–µ–∫ --- */
        .screen { transition: 0.5s ease; position: absolute; width: 100%; height: 100%; top: 0; left: 0; padding: 20px; }
        .hidden-screen { opacity: 0; pointer-events: none; transform: scale(1.05); }

    </style>
</head>
<body>

    <div class="bg-wrapper">
        <div class="cloud cloud-1"></div>
        <div class="cloud cloud-2"></div>
        <div class="cloud cloud-3"></div>
    </div>

    <div id="app" class="relative w-full h-screen">
        
        <!-- –≠–ö–†–ê–ù 1: –ù–ê–°–¢–†–û–ô–ö–ê (SETUP) -->
        <div id="setupScreen" class="screen flex flex-col justify-center items-center">
            <div class="plexiglass w-full max-w-sm p-8 text-center">
                <h1 class="text-3xl font-extrabold mb-2 italic">ELUMA</h1>
                <p class="text-gray-400 text-sm mb-8">–£—Å—Ç–∞–Ω–æ–≤–∏ —Å–≤–æ—é –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—É</p>
                
                <input id="goalInput" type="text" placeholder="–ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å..." class="w-full bg-black/30 border border-white/10 p-4 rounded-2xl mb-4 outline-none focus:border-lime-400">
                
                <div id="tasksInputs" class="space-y-2 mb-6">
                    <!-- –ü–æ–ª—è –¥–ª—è 6 –∑–∞–¥–∞—á -->
                </div>

                <button onclick="saveSettings()" class="w-full py-4 rounded-2xl bg-lime-400 text-black font-bold uppercase tracking-widest shadow-lg">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å</button>
            </div>
        </div>

        <!-- –≠–ö–†–ê–ù 2: –î–ê–®–ë–û–†–î (DASHBOARD) -->
        <div id="mainScreen" class="screen hidden-screen">
            <!-- –ì–ª–∞–≤–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ (–¶–µ–ª—å) -->
            <div class="plexiglass p-6 mb-6 mt-4 relative overflow-hidden">
                <div class="flex items-center gap-4 mb-4">
                    <div class="w-14 h-14 bg-white/10 rounded-2xl flex items-center justify-center text-2xl">üëÅÔ∏è</div>
                    <div>
                        <p class="text-[10px] font-bold uppercase tracking-widest text-lime-400 opacity-80">–ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å:</p>
                        <h2 id="displayGoal" class="text-xl font-extrabold uppercase tracking-tight">–°–û–°–†–ï–î–û–¢–û–ß–ï–ù–ù–û–°–¢–¨</h2>
                    </div>
                </div>
                <div class="w-full h-2 bg-white/5 rounded-full overflow-hidden">
                    <div id="mainProgress" class="h-full neon-progress transition-all duration-700" style="width: 45%;"></div>
                </div>
            </div>

            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–æ—Å—Ç–∞ -->
            <div class="px-2 mb-4">
                <div class="flex justify-between items-center mb-2">
                    <p class="text-[11px] font-medium text-gray-400 uppercase tracking-wider">–í–∞—à —Ä–æ—Å—Ç: <span class="text-white" id="pointsText">1450 –û–ß–ö–û–í</span> | –î–µ–Ω—å 12/30</p>
                    <div class="flex gap-2 text-lime-400">üìà üåø</div>
                </div>
                <!-- –°–µ–≥–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–∞—Ä -->
                <div class="flex gap-1 h-2">
                    <div class="flex-1 bg-teal-400/80 rounded-full"></div>
                    <div class="flex-1 bg-teal-400/80 rounded-full"></div>
                    <div class="flex-1 bg-teal-400/80 rounded-full relative">
                        <div class="absolute -right-1 -top-1 w-3 h-3 bg-lime-400 rounded-full blur-[2px]"></div>
                    </div>
                    <div class="flex-1 bg-white/5 rounded-full"></div>
                    <div class="flex-1 bg-white/5 rounded-full"></div>
                </div>
            </div>

            <!-- –°–µ—Ç–∫–∞ –∑–∞–¥–∞—á 2x3 -->
            <div id="tasksGrid" class="grid grid-cols-2 gap-3 mb-12">
                <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
            </div>

            <!-- –§—É—Ç–µ—Ä / –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
            <div class="text-center">
                <button onclick="resetApp()" class="text-[10px] text-gray-600 uppercase tracking-[4px] font-bold">–ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏—Å—Ç–µ–º—ã</button>
            </div>
        </div>

    </div>

    <script>
        // –ò–∫–æ–Ω–∫–∏ –¥–ª—è –∑–∞–¥–∞—á (—ç–º–æ–¥–∑–∏ –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã, –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∏)
        const icons = ["‚òÄÔ∏è", "üßò", "üìö", "üí™", "üìµ", "üìã"];

        let state = {
            goal: localStorage.getItem('el_goal') || '',
            tasks: JSON.parse(localStorage.getItem('el_tasks')) || [],
            completed: JSON.parse(localStorage.getItem('el_done')) || []
        };

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ–ª–µ–π –≤–≤–æ–¥–∞
        const inputsDiv = document.getElementById('tasksInputs');
        for (let i = 0; i < 6; i++) {
            inputsDiv.innerHTML += `<input type="text" placeholder="–î–µ–π—Å—Ç–≤–∏–µ ${i+1}" class="task-input w-full bg-black/20 border border-white/5 p-3 rounded-xl text-sm outline-none focus:border-teal-500">`;
        }

        function init() {
            if (!state.goal) {
                document.getElementById('setupScreen').classList.remove('hidden-screen');
                document.getElementById('mainScreen').classList.add('hidden-screen');
            } else {
                document.getElementById('setupScreen').classList.add('hidden-screen');
                document.getElementById('mainScreen').classList.remove('hidden-screen');
                render();
            }
        }

        function saveSettings() {
            const goal = document.getElementById('goalInput').value;
            const tInputs = document.querySelectorAll('.task-input');
            const tasks = Array.from(tInputs).map(i => i.value).filter(v => v !== '');

            if (goal && tasks.length === 6) {
                state.goal = goal;
                state.tasks = tasks;
                localStorage.setItem('el_goal', goal);
                localStorage.setItem('el_tasks', JSON.stringify(tasks));
                init();
            } else {
                alert("–ó–∞–ø–æ–ª–Ω–∏ —Ü–µ–ª—å –∏ –≤—Å–µ 6 –∑–∞–¥–∞—á –¥–ª—è —Å–∏–º–º–µ—Ç—Ä–∏–∏!");
            }
        }

        function toggle(idx) {
            const i = state.completed.indexOf(idx);
            if (i === -1) state.completed.push(idx);
            else state.completed.splice(i, 1);
            localStorage.setItem('el_done', JSON.stringify(state.completed));
            render();
        }

        function render() {
            document.getElementById('displayGoal').innerText = state.goal;
            const grid = document.getElementById('tasksGrid');
            grid.innerHTML = '';

            state.tasks.forEach((t, i) => {
                const isDone = state.completed.includes(i);
                grid.innerHTML += `
                    <div class="task-card plexiglass" onclick="toggle(${i})">
                        <div class="icon-box">${icons[i]}</div>
                        <p class="text-[12px] font-semibold leading-tight mb-4 h-8">${i+1}. ${t}</p>
                        <div class="btn-done py-2 rounded-xl flex items-center justify-center gap-2 text-[10px] font-bold uppercase tracking-wider ${isDone ? 'btn-active' : ''}">
                            ${isDone ? '–°–¥–µ–ª–∞–Ω–æ ‚úì' : '–í—ã–ø–æ–ª–Ω–∏—Ç—å'}
                        </div>
                    </div>
                `;
            });

            const progress = (state.completed.length / 6) * 100;
            document.getElementById('mainProgress').style.width = progress + '%';
            document.getElementById('pointsText').innerText = (1000 + state.completed.length * 150) + " –û–ß–ö–û–í";
        }

        function resetApp() {
            if(confirm('–°–±—Ä–æ—Å–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã?')) {
                localStorage.clear();
                location.reload();
            }
        }

        init();
    </script>
</body>
</html>
