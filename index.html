<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Eluma Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --accent: #a3e635; 
            --teal: #2dd4bf;   
            --bg-dark: #121418;
        }

        /* –ò—Å–ø—Ä–∞–≤–ª—è–µ–º —Å–∫—Ä–æ–ª–ª: —Ä–∞–∑—Ä–µ—à–∞–µ–º –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π, –∑–∞–ø—Ä–µ—â–∞–µ–º –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π */
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-dark);
            color: white;
            margin: 0;
            overflow-x: hidden; 
            overflow-y: auto; 
            min-height: 100vh;
            -webkit-tap-highlight-color: transparent;
        }

        /* –§–æ–Ω —Ç–µ–ø–µ—Ä—å –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω –∏ –Ω–µ –º–µ—à–∞–µ—Ç —Å–∫—Ä–æ–ª–ª—É */
        .bg-wrapper {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
            background: radial-gradient(circle at 50% 50%, #1a1d23 0%, #0d0f12 100%);
            overflow: hidden;
        }

        .cloud {
            position: absolute;
            filter: blur(80px);
            border-radius: 50%;
            opacity: 0.35;
            animation: move 20s infinite alternate ease-in-out;
        }
        .cloud-1 { width: 300px; height: 300px; background: var(--teal); top: -50px; left: -100px; }
        .cloud-2 { width: 400px; height: 400px; background: var(--accent); bottom: -100px; right: -50px; }

        @keyframes move {
            0% { transform: translate(0, 0) scale(1); }
            100% { transform: translate(30px, 50px) scale(1.1); }
        }

        /* –≠—Ñ—Ñ–µ–∫—Ç Plexiglass */
        .plexiglass {
            background: rgba(255, 255, 255, 0.04);
            backdrop-filter: blur(20px) saturate(160%);
            -webkit-backdrop-filter: blur(20px) saturate(160%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 30px;
        }

        .neon-progress {
            background: linear-gradient(90deg, var(--teal), var(--accent));
            box-shadow: 0 0 15px rgba(163, 230, 53, 0.3);
        }

        .btn-done {
            background: rgba(163, 230, 53, 0.1);
            border: 1px solid rgba(163, 230, 53, 0.2);
            color: var(--accent);
            transition: all 0.2s ease;
        }

        .btn-active {
            background: var(--accent);
            color: #000;
            box-shadow: 0 0 15px rgba(163, 230, 53, 0.4);
            border: none;
        }

        .task-card {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 28px;
            padding: 16px;
        }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —ç–∫—Ä–∞–Ω–æ–≤ —Ç–µ–ø–µ—Ä—å –Ω–µ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ, —á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞–ª –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–∫—Ä–æ–ª–ª */
        .screen { 
            width: 100%; 
            padding: 20px;
            display: flex;
            flex-direction: column;
        }
        
        .hidden-screen { display: none !important; }

        input {
            -webkit-appearance: none;
            border-radius: 12px;
        }
    </style>
</head>
<body>

    <div class="bg-wrapper">
        <div class="cloud cloud-1"></div>
        <div class="cloud cloud-2"></div>
    </div>

    <div id="app" class="relative w-full">
        
        <!-- –≠–ö–†–ê–ù 1: –ù–ê–°–¢–†–û–ô–ö–ê -->
        <div id="setupScreen" class="screen min-h-screen flex items-center justify-center">
            <div class="plexiglass w-full max-w-sm p-8">
                <h1 class="text-3xl font-black mb-1 italic tracking-tighter">ELUMA</h1>
                <p class="text-gray-400 text-xs mb-8 uppercase tracking-widest">System Setup</p>
                
                <div class="space-y-4">
                    <div>
                        <label class="text-[10px] font-bold text-lime-400 uppercase mb-2 block">–ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å</label>
                        <input id="goalInput" type="text" placeholder="–ù–∞–ø—Ä: –§–æ–∫—É—Å" class="w-full bg-black/40 border border-white/10 p-4 rounded-2xl outline-none focus:border-lime-400 text-white">
                    </div>
                    
                    <div id="tasksInputs" class="space-y-2">
                        <label class="text-[10px] font-bold text-lime-400 uppercase mb-2 block">6 –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –∑–∞–¥–∞—á</label>
                        <!-- –ò–Ω–ø—É—Ç—ã -->
                    </div>

                    <button onclick="saveSettings()" class="w-full py-5 rounded-2xl bg-lime-400 text-black font-black uppercase tracking-widest mt-4 active:scale-95 transition-transform">–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º—É</button>
                </div>
            </div>
        </div>

        <!-- –≠–ö–†–ê–ù 2: –î–ê–®–ë–û–†–î -->
        <div id="mainScreen" class="screen hidden-screen">
            <!-- –¶–µ–ª—å -->
            <div class="plexiglass p-6 mb-6 mt-2">
                <div class="flex items-center gap-4 mb-5">
                    <div class="w-14 h-14 bg-white/5 rounded-2xl flex items-center justify-center text-2xl shadow-inner">üëÅÔ∏è</div>
                    <div>
                        <p class="text-[10px] font-bold uppercase tracking-widest text-lime-400">–¢–µ–∫—É—â–∞—è —Ü–µ–ª—å</p>
                        <h2 id="displayGoal" class="text-xl font-black uppercase tracking-tight">...</h2>
                    </div>
                </div>
                <div class="w-full h-1.5 bg-white/5 rounded-full overflow-hidden">
                    <div id="mainProgress" class="h-full neon-progress transition-all duration-1000" style="width: 0%;"></div>
                </div>
            </div>

            <!-- –†–æ—Å—Ç -->
            <div class="px-1 mb-6">
                <div class="flex justify-between items-end mb-3">
                    <div>
                        <p class="text-[10px] font-bold text-gray-500 uppercase tracking-widest">–í–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å</p>
                        <p class="text-lg font-black tracking-tighter" id="pointsText">1450 –û–ß–ö–û–í</p>
                    </div>
                    <p class="text-[10px] font-bold text-lime-400 bg-lime-400/10 px-3 py-1 rounded-full border border-lime-400/20">–î–ï–ù–¨ 12/30</p>
                </div>
                <div class="flex gap-1.5 h-1.5">
                    <div class="flex-1 bg-teal-400 rounded-full shadow-[0_0_10px_rgba(45,212,191,0.3)]"></div>
                    <div class="flex-1 bg-teal-400 rounded-full opacity-60"></div>
                    <div class="flex-1 bg-white/5 rounded-full"></div>
                    <div class="flex-1 bg-white/5 rounded-full"></div>
                    <div class="flex-1 bg-white/5 rounded-full"></div>
                </div>
            </div>

            <!-- –°–µ—Ç–∫–∞ -->
            <div id="tasksGrid" class="grid grid-cols-2 gap-3 mb-10">
                <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ -->
            </div>

            <!-- –§—É—Ç–µ—Ä —Å–æ —Å–∫—Ä–æ–ª–ª–æ–º -->
            <div class="pb-12 text-center">
                <button onclick="resetApp()" class="text-[10px] text-gray-600 font-bold uppercase tracking-[0.3em] hover:text-gray-400 transition-colors">–ü–µ—Ä–µ–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–∏—Å—Ç–µ–º—É</button>
            </div>
        </div>

    </div>

    <script>
        const icons = ["‚òÄÔ∏è", "üßò", "üìö", "üí™", "üìµ", "üìã"];
        let state = {
            goal: localStorage.getItem('el_goal') || '',
            tasks: JSON.parse(localStorage.getItem('el_tasks')) || [],
            completed: JSON.parse(localStorage.getItem('el_done')) || []
        };

        const inputsDiv = document.getElementById('tasksInputs');
        for (let i = 0; i < 6; i++) {
            inputsDiv.innerHTML += `<input type="text" placeholder="–ó–∞–¥–∞—á–∞ ${i+1}" class="task-input w-full bg-black/30 border border-white/5 p-3 rounded-xl text-sm outline-none focus:border-lime-500 text-white transition-colors">`;
        }

        function init() {
            if (!state.goal) {
                document.getElementById('setupScreen').classList.remove('hidden-screen');
                document.getElementById('mainScreen').classList.add('hidden-screen');
                window.scrollTo(0,0);
            } else {
                document.getElementById('setupScreen').classList.add('hidden-screen');
                document.getElementById('mainScreen').classList.remove('hidden-screen');
                render();
            }
        }

        function saveSettings() {
            const goal = document.getElementById('goalInput').value;
            const tInputs = document.querySelectorAll('.task-input');
            const tasks = Array.from(tInputs).map(i => i.value).filter(v => v !== '');

            if (goal && tasks.length === 6) {
                state.goal = goal;
                state.tasks = tasks;
                localStorage.setItem('el_goal', goal);
                localStorage.setItem('el_tasks', JSON.stringify(tasks));
                init();
            } else {
                alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ü–µ–ª—å –∏ –≤—Å–µ 6 –ø–æ–ª–µ–π.");
            }
        }

        function toggle(idx) {
            const i = state.completed.indexOf(idx);
            if (i === -1) state.completed.push(idx);
            else state.completed.splice(i, 1);
            localStorage.setItem('el_done', JSON.stringify(state.completed));
            render();
        }

        function render() {
            document.getElementById('displayGoal').innerText = state.goal;
            const grid = document.getElementById('tasksGrid');
            grid.innerHTML = '';

            state.tasks.forEach((t, i) => {
                const isDone = state.completed.includes(i);
                grid.innerHTML += `
                    <div class="task-card plexiglass flex flex-col justify-between" onclick="toggle(${i})">
                        <div>
                            <div class="w-10 h-10 bg-black/40 rounded-xl flex items-center justify-center text-lg mb-3 border border-white/5">${icons[i]}</div>
                            <p class="text-[12px] font-bold leading-tight mb-4 min-h-[32px]">${t}</p>
                        </div>
                        <div class="btn-done py-2.5 rounded-xl flex items-center justify-center text-[9px] font-black uppercase tracking-tighter ${isDone ? 'btn-active' : ''}">
                            ${isDone ? '–°–¥–µ–ª–∞–Ω–æ ‚úì' : '–í—ã–ø–æ–ª–Ω–∏—Ç—å'}
                        </div>
                    </div>
                `;
            });

            const progress = (state.completed.length / 6) * 100;
            document.getElementById('mainProgress').style.width = progress + '%';
            document.getElementById('pointsText').innerText = (1000 + state.completed.length * 150) + " –û–ß–ö–û–í";
        }

        function resetApp() {
            if(confirm('–°–±—Ä–æ—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ?')) {
                localStorage.clear();
                location.reload();
            }
        }

        init();
    </script>
</body>
</html>
